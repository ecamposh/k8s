## ~/.kube/config

ssh -o ServerAliveInterval=3000 ServerAliveCountMax=10 <username>@<IP_Address>

openssl genrsa -out my_user.key 2048

openssl req -new -key my_user.key -out my_user.csr -subj "/CN=my_user/O=my_group"

openssl x509 -req -in my_user.csr 

ls -ltrha /etc/kubernetes/pki/ca*

sudo openssl x509 -req -in my_user.csr -CAcreateserial -CA /etc/kubernetes/pki/ca.crt -CAkey /etc/kubernetes/pki/ca.key -out my_user.crt -days 1000

ls -la

my_user.key
my_user.crt

kubectl --kubeconfig=my_user.config config set-cluster my_user_cluster

## Grab server endpoint from the following file

cat ~/.kube/config

kubectl --kubeconfig=my_user.config config set-cluster my_user_cluster --server=https://<Cluster_Server_IP_Address>:<6443> --help

kubectl --kubeconfig=my_user.config config set-cluster my_user_cluster --certificate-authority=/etc/kubernetes/pki/ca.crt

cat my_user.config

kubectl --kubeconfig=my_user.config config set-cluster my_user_cluster --certificate-authority=/etc/kubernetes/pki/ca.crt --embed-certs

cat my_user.config

kubectl --kubeconfig=my_user.config config set-credentials --embed-certs --client-certificate=my_user.crt --client-key=my_user.key 'my_user' --username 'my_user'

kubectl --kubeconfig=my_user.config config set-context --help

kubectl --kubeconfig my_user.config config set-context my_user_ctx --cluster my_user_cluster --user my_user

kubectl --kubeconfig my_user.config config set-context my_user_ctx --cluster my_user_cluster --user my_user --namespace my_group

cat my_user.config

kubectl --kubeconfig my_user.config config use-context my_user_ctx

kubectl create namespace my_group

kubectl create role --help

kubectl --namespace my_group create role my_group_manager --verb=get,list,create,delete --resource=pods

kubectl --namespace my_group create rolebinding my_group_manager_binding --user=my_user --role=my_group_manager

kubectl --namespace my_group describe role

kubectl --namespace my_group describe rolebinding

kubectl --kubeconfig my_user.config version

kubectl --kubeconfig my_user.config get namespace

kubectl --kubeconfig my_user.config --namespace my_group get namespace

kubectl --kubeconfig my_user.config --namespace my_group get services

kubectl --kubeconfig my_user.config --namespace my_group get pods

kubectl --kubeconfig my_user.config --namespace my_group run --image mysql --port 3306

kubectl --kubeconfig my_user.config --namespace my_group run --image mysql --port 3306 mysqldb

kubectl --kubeconfig my_user.config --namespace my_group get all


kubectl --namespace my_group create role my_service_manager --verb=get,list,create,delete --resource=service

kubectl --namespace my_group get role

kubectl --namespace my_group describe role

kubectl --namespace my_group create rolebinding my_service_manager_binding --user=my_user --role=my_service_manager

kubectl --namespace my_group get rolebinding

kubectl --namespace my_group describe rolebinding

kubectl --kubeconfig my_user.config --namespace my_group get service

kubectl --kubeconfig my_user.config --namespace my_group create service clusterip mysqlservice --tcp 3306:3306





